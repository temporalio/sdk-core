syntax = "proto3";

package coresdk.workflow_activation_completion;

import "temporal/api/enums/v1/failed_cause.proto";
import "temporal/api/failure/v1/message.proto";
import "workflow_command.proto";

/// Result of a single workflow activation, reported from lang to core
message WFActivationCompletion {
    oneof status {
        Success successful = 1;
        Failure failed = 2;
    }
}

/// Successful workflow activation with a list of commands generated by the workflow execution
message Success {
    // A list of commands to send back to the temporal server
    repeated coresdk.workflow_command.WorkflowCommand commands = 1;

    // Other bits from RespondWorkflowTaskCompletedRequest as needed
}

/// Failure to activate a workflow
message Failure {
    // TODO: port these protos
    temporal.api.enums.v1.WorkflowTaskFailedCause cause = 1;
    temporal.api.failure.v1.Failure failure = 2;

    // Other bits from RespondWorkflowTaskFailedRequest as needed
}
